1,"select run1, run2, type1, type2     , mag1 = CONVERT(tinyint,ROUND(#*(a.psfMag_r-#),#))     , mag2 = CONVERT(tinyint,ROUND(#*(b.psfMag_r-#),#))     , mid1 = case when ABS(a.rowc - FLOOR(a.rowc) - @half) + ABS(a.colc - FLOOR(a.colc) - @half) < # then @onebit else @zerobit end      , mid2 = case when ABS(b.rowc - FLOOR(b.rowc) - @half) + ABS(b.colc - FLOOR(b.colc) - @half) < # then @onebit else @zerobit end      , arcsec = ROUND(#*distance,#)     , cts = count(objid1) into mydb.S8#r2# -- old Stripe8#Match0#Stars1#k2#Run2k from match m     join photoobjall a on a.objid=m.objid1     join photoobjall b on b.objid=m.objid2 where a.type in (#,#) and b.type in (#,#) -- galaxy or star -- a.type=@type and b.type=@type     and a.psfMag_r between # and #     and b.psfMag_r between # and #     and a.psfMag_r - b.psfMag_r between # and # group by run1, run2, type1, type2     , CONVERT(tinyint,ROUND(#*(a.psfMag_r-#),#))     , CONVERT(tinyint,ROUND(#*(b.psfMag_r-#),#))     , case when ABS(a.rowc - FLOOR(a.rowc) - @half) + ABS(a.colc - FLOOR(a.colc) - @half) < # then @onebit else @zerobit end      , case when ABS(b.rowc - FLOOR(b.rowc) - @half) + ABS(b.colc - FLOOR(b.colc) - @half) < # then @onebit else @zerobit end      , ROUND(#*distance,#)"
2019-10-30 14:04:00,1

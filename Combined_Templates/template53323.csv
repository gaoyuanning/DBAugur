1,"select * --/T < br> from Galaxy as G, --/T < br> dbo.fGetNearbyObjEq (#, #, #) as N --/T < br> where G.objID = N.objID -- SELECT TOP # G.objID, GN.distance -- FROM Galaxy AS G -- JOIN dbo.fGetNearbyObjEq (#., #, #) AS GN -- this function outputs a table, so we have to do a join -- ON G.objID = GN.objID -- get objects from temporary neighbors table GN with desired ObjID -- WHERE -- (G.flags & dbo.fPhotoFlags (#) ) = # -- and the object is not saturated. f.PhotoFlags is a function that interprets the flag bits. -- ORDER BY distance -- sort these by distance SELECT * FROM (SELECT TOP # * FROM mydb.grlist_s_ntot_gt_#) AS gr, Galaxy as G JOIN dbo.fGetNearbyObjEq (gr.RAJ2#, gr.DEJ2#, #) as GN ON G.objID = GN.objID"
2019-07-23 16:44:00,1

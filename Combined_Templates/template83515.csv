1,"select #/# declare @ra numeric set @ra = # declare @dec numeric set @dec = # declare @box numeric set @box = # declare @ra1 numeric set @ra1 = select @ra - @box/# declare @dec1 numeric set @dec1 = select @dec - @box/# declare @ra2 numeric set @ra2 = select @ra + @box/# declare @dec2 numeric set @dec2 = select @dec + @box/# declare @bad_flags bigint set @bad_flags = (dbo.fPhotoFlags (#) | dbo.fPhotoFlags (#) | dbo.fPhotoFlags (#) | dbo.fPhotoFlags (#) ) declare @star int set @star = dbo.fPhotoType (#) declare @galaxy int set @galaxy = dbo.fPhotoType (#) declare @primaryMode int set @primaryMode = dbo.fPhotoMode (#) select dbo.fSDSS (obj.objId) as ID, ltrim (str (#*distance, #, #) ) as distance, ltrim (str (mjd_r, #, #) ) as MJD, modelMag_g, modelMagErr_g, modelMag_r, modelMagErr_r, modelMag_i, modelMagErr_i from (select objId1, objId2, #/#. as distance FROM match union all select objId1, objId2, distance FROM match) as M JOIN PhotoObj as Obj on (obj.objId = M.objId2) JOIN Field as F on F.fieldId = obj.fieldId where M.ObjId1 = dbo.fGetNearestObjIdEq (@ra, @dec, @r)"
2019-12-17 02:55:00,1

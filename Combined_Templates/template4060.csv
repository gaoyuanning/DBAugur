1,"select e.snapnum, e.elementId , (n1.str0+n2.str0+n3.str0) /# as s0 , (n1.str1+n2.str1+n3.str1) /# as s1 , (n1.str2+n2.str2+n3.str2) /# as s2 , (n1.str3+n2.str3+n3.str3) /# as s3 from (select top # * from cracks_sd1 where snapnum = # order by newid () ) c , snapshots_sd1 s , elements_sd1 e , nodes_sd1 n1 , nodes_sd1 n2 , nodes_sd1 n3 where e.snapnum = s.snapnum and e.elementid = c.elementid and n1.snapnum = s.snapnum and n1.nodeid = e.node1 and n2.snapnum = n1.snapnum and n2.nodeid = e.node2 and n3.snapnum = n1.snapnum and n3.nodeid = e.node3) , diag as (select *, #* (s0+s3) as t, s0*s3-s1*s2 as d from s) select *, t+sqrt (t*t-d) as l1, t-sqrt (t*t-d) as l2 from diag order by elementid, snapnum"
2019-01-17 08:38:00,1
